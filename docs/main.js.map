{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/default-data/default-text.ts","./src/app/default-data/forbiden-chars.ts","./src/app/pages/home-page/home-page.component.ts","./src/app/pages/home-page/home-page.component.html","./src/app/pages/home-page/trainer/char-span/char-span.component.ts","./src/app/pages/home-page/trainer/char-span/char-span.component.html","./src/app/pages/home-page/trainer/info-panel/info-panel.component.ts","./src/app/pages/home-page/trainer/info-panel/info-panel.component.html","./src/app/pages/home-page/trainer/trainer.component.ts","./src/app/pages/home-page/trainer/trainer.component.html","./src/app/pages/setting-page/setting-page.component.ts","./src/app/pages/setting-page/setting-page.component.html","./src/app/services/statistic-service.service.ts","./src/app/services/text.service.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { HomePageComponent } from './pages/home-page/home-page.component';\r\nimport { SettingPageComponent } from './pages/setting-page/setting-page.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: HomePageComponent },\r\n  { path: 'settings', component: SettingPageComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AppRoutingModule {}\r\n","import { Component, OnDestroy } from '@angular/core';\r\nimport { StatisticService } from './services/statistic-service.service';\r\nimport { TextService } from './services/text.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss'],\r\n})\r\nexport class AppComponent implements OnDestroy {\r\n  private interval = 0;\r\n\r\n  constructor(\r\n    private statisticService: StatisticService,\r\n    private textService: TextService\r\n  ) {\r\n    this.interval = setInterval(() => {\r\n      this.statisticService.saveState();\r\n      this.textService.saveState();\r\n    }, 2000);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    clearInterval(this.interval);\r\n  }\r\n}\r\n","<div class=\"layout\">\r\n  <header>\r\n    <mat-toolbar>\r\n      <span>Keyboard trainer, v1.3</span>\r\n    </mat-toolbar>\r\n\r\n    <nav>\r\n\r\n      <button\r\n        mat-button\r\n        color=\"primary\"\r\n        routerLink=\"/\"\r\n        routerLinkActive=\"routerLinkActive\"\r\n        [routerLinkActiveOptions]=\"{ exact: true }\"\r\n      >\r\n        Trainer\r\n      </button>\r\n\r\n      <button\r\n        mat-button\r\n        color=\"primary\"\r\n        routerLink=\"/settings\"\r\n        routerLinkActive=\"routerLinkActive\"\r\n      >\r\n        Settings\r\n      </button>\r\n\r\n    </nav>\r\n  </header>\r\n\r\n  <main>\r\n      <router-outlet></router-outlet>\r\n  </main>\r\n\r\n  <footer>\r\n    <mat-toolbar>\r\n      <span>\r\n        Keyboard trainer, https://github.com/andrew2020wit, MIT License.\r\n      </span>\r\n    </mat-toolbar>\r\n  </footer>\r\n</div>\r\n","import {NgModule} from '@angular/core';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {MatButtonModule} from '@angular/material/button';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatToolbarModule} from '@angular/material/toolbar';\r\nimport {BrowserModule} from '@angular/platform-browser';\r\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\r\nimport {AppRoutingModule} from './app-routing.module';\r\nimport {AppComponent} from './app.component';\r\nimport {CharSpanComponent} from './pages/home-page/trainer/char-span/char-span.component';\r\nimport {HomePageComponent} from './pages/home-page/home-page.component';\r\nimport {InfoPanelComponent} from './pages/home-page/trainer/info-panel/info-panel.component';\r\nimport {SettingPageComponent} from './pages/setting-page/setting-page.component';\r\nimport {TrainerComponent} from './pages/home-page/trainer/trainer.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    HomePageComponent,\r\n    TrainerComponent,\r\n    CharSpanComponent,\r\n    InfoPanelComponent,\r\n    SettingPageComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    FormsModule,\r\n    BrowserAnimationsModule,\r\n    MatToolbarModule,\r\n    MatButtonModule,\r\n    MatInputModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppModule {\r\n}\r\n","export const defaultText =\r\n  'Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio explicabo quos iusto mollitia odit tempore quo distinctio, id cumque obcaecati asperiores quia alias suscipit repellendus est commodi quidem sit perferendis, veniam, vitae harum amet magnam minus? Ex minima maiores expedita est animi alias repellat! Obcaecati itaque ipsum consequatur. Hic velit in consectetur porro totam maiores ad odio harum architecto nam officia pariatur, labore dolorem veniam modi libero deserunt commodi. Suscipit architecto, doloribus ipsa deserunt inventore perspiciatis tempora at quis vel sequi unde voluptatibus maxime. Iusto adipisci velit ducimus? Voluptatem itaque doloribus ipsa explicabo, laudantium vero laborum placeat asperiores facere quod deleniti, molestias hic quas, fugiat sed deserunt incidunt autem. Quas saepe blanditiis at iure dicta velit aut, corrupti accusamus! Ducimus voluptas aliquid necessitatibus tenetur, obcaecati quaerat nemo laboriosam ipsa, iure eius illum, possimus amet consequatur voluptates voluptatum non quam temporibus mollitia a. Esse, saepe perspiciatis dolorum illo quo quod quia dolores omnis cupiditate repudiandae iste praesentium sequi nisi et maxime sed optio beatae temporibus corporis illum? Alias ut maiores nesciunt unde expedita odit voluptatibus ab, ullam eveniet corrupti tenetur. Ex nihil, eos quam officia tempora repudiandae provident deserunt aliquam consequuntur pariatur, sint tempore, dicta maiores quisquam ipsam deleniti. Facilis quidem deleniti veritatis cumque eveniet, beatae, quae tempore sunt explicabo vitae voluptatem necessitatibus a nam voluptate fuga velit culpa provident. Cumque quam quia eaque, nobis laboriosam placeat voluptate quis dolores rem amet ratione reiciendis esse iure est debitis sed, ab eligendi. Rerum harum ab, ullam voluptate, et facilis porro quod cum eveniet nemo quasi, animi illo veniam similique sapiente! Maxime soluta eaque reprehenderit, aut eligendi dicta eos commodi optio facilis non ratione ducimus maiores impedit modi officia consequuntur quae voluptas saepe! Ex eligendi repudiandae tempore. Quisquam vel fuga quo tenetur doloremque ullam alias dicta voluptatibus. Accusamus ad quibusdam deserunt dolore aliquid et reiciendis repudiandae ducimus eum iure. Ex quidem velit quibusdam obcaecati similique nam porro illo omnis neque fugit qui distinctio ea inventore id atque error sapiente odit facilis maxime, animi ratione fuga nihil voluptatum tempora. Blanditiis velit voluptatum quisquam est, accusamus quia animi minus impedit tenetur explicabo asperiores deleniti libero temporibus non illo officiis. Cumque, possimus animi, saepe dolores ea temporibus cum nobis illum labore doloremque eligendi eos minima neque. Et eveniet voluptatum explicabo mollitia, ex dolorum inventore ut libero ipsum aspernatur! Asperiores omnis eligendi numquam hic pariatur vitae quod soluta tempore nisi voluptatem, culpa inventore aperiam temporibus, reprehenderit optio nihil blanditiis itaque eum cum laborum atque, dolor quia vero? Iure, voluptatum vero hic reiciendis culpa nihil optio consequatur recusandae debitis porro voluptatibus nam mollitia explicabo facere animi nostrum et rerum dolorum suscipit tenetur praesentium nemo repudiandae sequi sint. A nam voluptates esse distinctio quod pariatur quas deleniti magni iusto repellat tempore ipsam ex soluta sint sit perferendis molestias beatae, doloremque facere cumque quisquam nulla quaerat. Inventore ducimus quas modi iure alias doloremque et. Veritatis optio tempora praesentium temporibus ab officiis odio aliquam inventore error alias quos, numquam, corrupti exercitationem non. Iure totam pariatur dolor nostrum ipsum nobis officia officiis a ducimus eius? Voluptate quam eligendi qui, quibusdam maxime quos ipsam amet nobis eius corrupti repellendus perferendis deserunt facere ipsa odit reiciendis quisquam non debitis error velit eveniet, et temporibus. Modi, fugiat! Autem voluptatum, exercitationem veniam eius totam ad, quidem dignissimos blanditiis officia veritatis, similique voluptatibus ratione! Dolorum aspernatur sunt non tempore consequatur, officia minima corrupti expedita delectus libero debitis id iusto autem modi voluptates natus labore sequi alias? Quod, facere sequi cum sunt, eum nobis voluptatem quia officia optio consequatur, eveniet totam aspernatur. Iure tempore quibusdam at, animi nobis eaque ab rem aperiam nisi deleniti laudantium minus enim veritatis veniam. Eum esse mollitia voluptatum neque cum placeat quam numquam repellendus possimus, consectetur unde autem tempore modi totam animi soluta ratione iusto porro, corporis in id, non ullam. Totam, hic rerum animi tenetur at neque labore enim, nostrum in, quae cum. Quam officia iure nulla in autem ullam pariatur rerum suscipit accusantium, aliquam soluta deleniti blanditiis modi voluptate perferendis corporis eligendi culpa perspiciatis aut. Provident quisquam facere nostrum odit rem illo minus, iusto, alias ducimus itaque sapiente, sit quidem quasi deserunt eveniet. Exercitationem enim at provident aspernatur. Quo, dignissimos magnam minima ab natus, eius vero distinctio perspiciatis voluptatibus sit et consectetur facilis tempore? At, doloribus fuga molestias, iste cupiditate laborum nobis quidem atque suscipit esse aut voluptate. Beatae voluptatum voluptas modi exercitationem? Temporibus inventore doloribus illum reprehenderit iure numquam distinctio provident nostrum delectus, explicabo enim rem natus harum cumque nam quas! Molestiae cum ea iusto, nam deleniti voluptates beatae esse. Vero, ad sequi. Totam ratione nemo sit dolorem, esse soluta hic maiores accusantium voluptas, consequuntur, tempora reiciendis eos repellat laboriosam natus voluptatibus perferendis sed eveniet amet optio rerum est? Nulla dolore sapiente architecto esse id impedit fuga aspernatur corrupti ea pariatur dolorem voluptas minus totam aperiam expedita quaerat culpa animi laboriosam molestias, ut quod et est! Dolorum harum, ut sunt, facere magni fugit sequi culpa porro esse saepe eos, ab eum error sapiente commodi at voluptatum accusamus temporibus molestiae corporis minus eligendi soluta a! Quam accusantium repudiandae nihil eaque perspiciatis rem numquam? Provident harum distinctio, quisquam repellendus, omnis blanditiis, nostrum necessitatibus maiores autem a odit deleniti vero expedita. Incidunt distinctio, doloribus nemo voluptatibus esse dolore iure voluptatem error quo numquam dicta. Inventore obcaecati itaque fuga hic, architecto repellendus odit ea sed ut accusantium laborum, non sit exercitationem voluptatibus provident deserunt esse, natus ad porro! Perspiciatis blanditiis ut illum eum hic autem et? Molestiae, sequi nemo beatae laudantium ipsa aut est cum blanditiis sit in quod? Saepe, incidunt recusandae architecto, iure similique dolores voluptatem nesciunt beatae repudiandae aperiam aliquid qui temporibus, omnis fugiat distinctio possimus harum. Excepturi, odio quisquam. Soluta optio facilis officia dicta sapiente veniam! Deserunt ratione mollitia iusto perferendis, accusamus maxime nobis ex explicabo molestiae hic rem asperiores aut, culpa cupiditate quas distinctio possimus enim tempore itaque aperiam sequi? Ab provident quibusdam aspernatur numquam! Consequatur minus, eligendi asperiores animi explicabo dignissimos nemo tempore eveniet fugit quae distinctio assumenda maxime tenetur dolor provident nobis laudantium ex et temporibus. Doloremque, earum!';\r\n","export function removeForbiddenChar(text: string): string {\r\n  const text2 = text.replace(/\\s/gu, ' ');\r\n  return text2.replace(/\\s\\s+/gu, ' ');\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-home-page',\r\n  templateUrl: './home-page.component.html',\r\n  styleUrls: ['./home-page.component.scss']\r\n})\r\nexport class HomePageComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<app-trainer></app-trainer>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-char-span',\r\n  templateUrl: './char-span.component.html',\r\n  styleUrls: ['./char-span.component.scss'],\r\n})\r\nexport class CharSpanComponent implements OnInit {\r\n  @Input() char = '';\r\n  @Input() color = '';\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<div [style.color]=\"color\">{{ char }}</div>\r\n","import { Component, OnDestroy } from '@angular/core';\r\nimport { StatisticService } from '../../../../services/statistic-service.service';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-info-panel',\r\n  templateUrl: './info-panel.component.html',\r\n  styleUrls: ['./info-panel.component.scss'],\r\n})\r\nexport class InfoPanelComponent implements OnDestroy {\r\n  speed = 0;\r\n  timeStr = '';\r\n  presses = 0;\r\n\r\n  private readonly unsubscribe$ = new Subject<void>();\r\n\r\n  constructor(private generalService: StatisticService) {\r\n    this.generalService.speedPerMinute$\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe((speed) => {\r\n        this.speed = Math.round(speed);\r\n      });\r\n\r\n    this.generalService.presses$\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe((presses) => {\r\n        if (!presses) {\r\n          this.presses = 0;\r\n        } else {\r\n          this.presses = presses + 1;\r\n        }\r\n      });\r\n\r\n    this.generalService.times$\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe((times) => {\r\n        this.timeStr = InfoPanelComponent.computeTimeStr(times);\r\n      });\r\n  }\r\n\r\n  public static computeTimeStr(time): string {\r\n    const timeSeconds = Math.floor(time / 1000);\r\n    const hours = Math.floor(timeSeconds / (60 * 60));\r\n    const timeSecondsWithoutHours = timeSeconds - hours * (60 * 60);\r\n    const minutes = Math.floor(timeSecondsWithoutHours / 60);\r\n    const seconds = timeSecondsWithoutHours - minutes * 60;\r\n    return hours + ' hr, ' + minutes + ' m, ' + seconds + ' s.';\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribe$.next();\r\n    this.unsubscribe$.complete();\r\n  }\r\n}\r\n","<div>\r\n  <span>\r\n    Speed: {{ speed }} symb/min;\r\n    Symbols: {{ presses }};\r\n    Time: {{ timeStr }}\r\n  </span>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { StatisticService } from '../../../services/statistic-service.service';\r\nimport {TextService} from '../../../services/text.service';\r\n\r\nclass ColorChar {\r\n  char: string;\r\n  color: CharColors;\r\n}\r\n\r\nenum CharColors {\r\n  true = 'black',\r\n  wrong = 'red',\r\n  wrong2 = 'yellow',\r\n}\r\n\r\n@Component({\r\n  selector: 'app-trainer',\r\n  templateUrl: './trainer.component.html',\r\n  styleUrls: ['./trainer.component.scss'],\r\n})\r\nexport class TrainerComponent implements OnInit {\r\n  futureStringArr: ColorChar[] = [];\r\n  futureStringArrMaxLength = 30;\r\n\r\n  pastStringArr: ColorChar[] = [];\r\n  pastStringArrMaxLength = 30;\r\n\r\n  inputValue = '';\r\n\r\n  maxDeltaTime = 3000;\r\n  time1 = 0;\r\n  time2 = 0;\r\n\r\n  constructor(private statisticService: StatisticService, private textService: TextService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.textService.resetCurrentTextPointer();\r\n    this.fillFutureStringArr();\r\n  }\r\n\r\n  fillFutureStringArr(): void {\r\n    while (this.futureStringArr.length < this.futureStringArrMaxLength) {\r\n\r\n      const nextChar = this.textService.getNextChar();\r\n\r\n      const colorChar: ColorChar = {\r\n        char: nextChar,\r\n        color: CharColors.true,\r\n      };\r\n\r\n      this.futureStringArr.push(colorChar);\r\n    }\r\n  }\r\n\r\n  onKeyPress(event): void {\r\n    const key = event.key;\r\n    const needKey = this.futureStringArr[0].char;\r\n\r\n    if (this.futureStringArr[0].color === CharColors.true) {\r\n      this.textService.setNextStartTextPoint();\r\n    }\r\n\r\n    if (needKey === key) {\r\n      this.pushPastStringArr({\r\n        char: needKey,\r\n        color: CharColors.true,\r\n      });\r\n\r\n      // speed measuring\r\n      this.time2 = Date.now();\r\n      const deltaTime = this.time2 - this.time1;\r\n      if (deltaTime < this.maxDeltaTime) {\r\n        this.statisticService.takeSpeedData(deltaTime);\r\n      }\r\n      this.time1 = this.time2;\r\n\r\n    } else {\r\n      this.pushPastStringArr({\r\n        char: `|${needKey}|`,\r\n        color: CharColors.wrong,\r\n      });\r\n      this.pushPastStringArr({\r\n        char: `|${key}|`,\r\n        color: CharColors.wrong2,\r\n      });\r\n      this.addPenaltyChar(needKey);\r\n    }\r\n\r\n    this.futureStringArr.shift();\r\n    this.fillFutureStringArr();\r\n\r\n    this.inputValue = '';\r\n  }\r\n\r\n  pushPastStringArr(colorChar: ColorChar): void {\r\n    this.pastStringArr.push(colorChar);\r\n    if (this.pastStringArr.length > this.pastStringArrMaxLength) {\r\n      this.pastStringArr.shift();\r\n    }\r\n  }\r\n\r\n  addPenaltyChar(char: string): void {\r\n    const newFutureStringArr: ColorChar[] = [];\r\n    const wrongChar: ColorChar = { char, color: CharColors.wrong };\r\n    const countOfPenaltyChar = 5;\r\n    const penaltyCharInterval = 5;\r\n\r\n    for (let j = 0; j < countOfPenaltyChar; j++) {\r\n      for (let i = 0; i < penaltyCharInterval; i++) {\r\n        if (this.futureStringArr.length === 0) {\r\n          break;\r\n        }\r\n        newFutureStringArr.push(this.futureStringArr.shift());\r\n      }\r\n      newFutureStringArr.push(wrongChar);\r\n    }\r\n\r\n    while (this.futureStringArr.length !== 0) {\r\n      newFutureStringArr.push(this.futureStringArr.shift());\r\n    }\r\n\r\n    this.futureStringArr = newFutureStringArr;\r\n  }\r\n}\r\n","<app-info-panel></app-info-panel>\r\n\r\n<div class=\"view-box\">\r\n  <div class=\"past\">\r\n    <app-char-span\r\n      *ngFor=\"let char of pastStringArr\"\r\n      [char]=\"char.char\"\r\n      [color]=\"char.color\"\r\n    ></app-char-span>\r\n  </div>\r\n\r\n  <div class=\"future\">\r\n    <app-char-span\r\n      *ngFor=\"let char of futureStringArr\"\r\n      [char]=\"char.char\"\r\n      [color]=\"char.color\"\r\n    ></app-char-span>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"input-div\">\r\n  <mat-form-field >\r\n    <mat-label>Type here!</mat-label>\r\n    <input\r\n      matInput\r\n      placeholder=\"Type here!\"\r\n      autofocus\r\n      autocomplete=\"off\"\r\n      (keypress)=\"onKeyPress($event)\"\r\n      [(ngModel)]=\"inputValue\"\r\n    />\r\n  </mat-form-field>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { StatisticService } from '../../services/statistic-service.service';\r\nimport {TextService} from '../../services/text.service';\r\n\r\n@Component({\r\n  selector: 'app-setting-page',\r\n  templateUrl: './setting-page.component.html',\r\n  styleUrls: ['./setting-page.component.scss'],\r\n})\r\nexport class SettingPageComponent implements OnInit {\r\n\r\n  text = '';\r\n\r\n  constructor(private textService: TextService, private statisticService: StatisticService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.text = this.textService.getText();\r\n  }\r\n\r\n  saveText(): void {\r\n    if (this.text.length < 100) {\r\n      return;\r\n    }\r\n    this.textService.setNewText(this.text);\r\n  }\r\n\r\n  clearState(): void {\r\n    this.statisticService.setNullState();\r\n  }\r\n\r\n  resetText(): void {\r\n    this.textService.resetText();\r\n    this.text = this.textService.getText();\r\n  }\r\n}\r\n","<button mat-button color=\"primary\" (click)=\"clearState()\">\r\n  Reset Statistic/Text\r\n</button>\r\n\r\n<button mat-button color=\"primary\" (click)=\"resetText()\">\r\n  ResetText\r\n</button>\r\n<br/>\r\n\r\n<button mat-button color=\"primary\"\r\n        (click)=\"saveText()\"\r\n        [disabled]=\"text.length < 100\">\r\n  SaveText\r\n</button>\r\n\r\n<mat-form-field>\r\n  <mat-label>Text (min: 100 char, max: 10000 char)</mat-label>\r\n  <textarea\r\n    matInput\r\n    placeholder=\"Text (max 10000 char)\"\r\n    minlength=\"100\"\r\n    maxlength=\"10000\"\r\n    [(ngModel)]=\"text\"\r\n  ></textarea>\r\n</mat-form-field>\r\n","import {Injectable} from '@angular/core';\r\nimport {BehaviorSubject} from 'rxjs';\r\n\r\nclass StatisticState {\r\n  times = 0;\r\n  presses = 0;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class StatisticService {\r\n\r\n  private statisticState = new StatisticState();\r\n\r\n  speedPerMinute$ = new BehaviorSubject<number>(0);\r\n  times$ = new BehaviorSubject<number>(0);\r\n  presses$ = new BehaviorSubject<number>(0);\r\n\r\n  private readonly localStorageStatisticStateKey = 'StatisticState';\r\n\r\n  constructor() {\r\n    this.loadState();\r\n  }\r\n\r\n  private loadState(): void {\r\n    const statisticStateFromStore = JSON.parse(localStorage.getItem(this.localStorageStatisticStateKey)) as StatisticState;\r\n    if (statisticStateFromStore?.times) {\r\n      this.statisticState = statisticStateFromStore;\r\n    } else {\r\n      this.setNullState();\r\n    }\r\n    this.activateState();\r\n  }\r\n\r\n  setNullState(): void {\r\n    this.statisticState = {\r\n      times: 0,\r\n      presses: 0,\r\n    };\r\n    this.activateState();\r\n    this.saveState();\r\n  }\r\n\r\n  public saveState(): void {\r\n    localStorage.setItem(this.localStorageStatisticStateKey, JSON.stringify(this.statisticState));\r\n  }\r\n\r\n  public takeSpeedData(time: number): void {\r\n    this.setTimes(this.statisticState.times + time);\r\n    this.setPresses(this.statisticState.presses + 1);\r\n    this.computeSpeed();\r\n  }\r\n\r\n  private computeSpeed(): void {\r\n    if (this.statisticState.times === 0) {\r\n      this.speedPerMinute$.next(0);\r\n      return;\r\n    }\r\n    const speed = this.statisticState.presses / (this.statisticState.times / 1000 / 60);\r\n    this.speedPerMinute$.next(speed);\r\n  }\r\n\r\n  private setTimes(time): void {\r\n    this.statisticState.times = time;\r\n    this.times$.next(time);\r\n  }\r\n\r\n  private setPresses(n): void {\r\n    this.statisticState.presses = n;\r\n    this.presses$.next(n);\r\n  }\r\n\r\n\r\n  private activateState(): void {\r\n    this.setTimes(this.statisticState.times);\r\n    this.setPresses(this.statisticState.presses);\r\n    this.computeSpeed();\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { removeForbiddenChar } from '../default-data/forbiden-chars';\r\nimport { defaultText } from '../default-data/default-text';\r\n\r\nclass TextState {\r\n  text = '';\r\n  startTextPointer = 0;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class TextService {\r\n  private textState = new TextState();\r\n  private currentTextPointer = 0;\r\n\r\n  private readonly localStorageTextStateKey = 'text-state';\r\n\r\n  constructor() {\r\n    this.loadState();\r\n  }\r\n\r\n  private loadState(): void {\r\n    const textStateFromStorage = JSON.parse(\r\n      localStorage.getItem(this.localStorageTextStateKey)\r\n    ) as TextState;\r\n\r\n    if (textStateFromStorage?.text) {\r\n      this.textState = textStateFromStorage;\r\n    } else {\r\n      this.textState = new TextState();\r\n      this.textState.text = defaultText;\r\n    }\r\n\r\n    this.currentTextPointer = this.textState.startTextPointer;\r\n  }\r\n\r\n  public saveState(): void {\r\n    localStorage.setItem(\r\n      this.localStorageTextStateKey,\r\n      JSON.stringify(this.textState)\r\n    );\r\n  }\r\n\r\n  public setNewText(str: string): void {\r\n    this.textState.text = removeForbiddenChar(str);\r\n    this.textState.startTextPointer = 0;\r\n    this.saveState();\r\n    location.reload();\r\n  }\r\n\r\n  public getNextChar(): string {\r\n    if (this.currentTextPointer >= this.textState.text.length) {\r\n      this.currentTextPointer = 0;\r\n    }\r\n\r\n    const char = this.textState.text.slice(\r\n      this.currentTextPointer,\r\n      this.currentTextPointer + 1\r\n    );\r\n\r\n    this.currentTextPointer = this.currentTextPointer + 1;\r\n\r\n    return char;\r\n  }\r\n\r\n  public resetText(): void {\r\n    this.setNewText(defaultText);\r\n  }\r\n\r\n  public resetCurrentTextPointer(): void {\r\n    this.currentTextPointer = this.textState.startTextPointer;\r\n  }\r\n\r\n  public getText(): string {\r\n    return this.textState.text;\r\n  }\r\n\r\n  public setNextStartTextPoint(): void {\r\n    this.textState.startTextPointer += 1;\r\n    if (this.textState.startTextPointer >= this.textState.text.length) {\r\n      this.textState.startTextPointer = 0;\r\n    }\r\n  }\r\n\r\n  // setNullState(): void {\r\n  //   this.appState = {\r\n  //     startTextPointer: 0,\r\n  //     times: 0,\r\n  //     presses: 0,\r\n  //   };\r\n  //   this.activateState();\r\n  //   this.saveState();\r\n  // }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"names":[],"sourceRoot":"webpack:///"}